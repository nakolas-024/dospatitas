---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import ProductCard from '../components/ProductCard.astro';
import products from '../data/products.js';

// Definimos las categorías para el menú de navegación.
// Ninguna está activa porque esta es la página que muestra TODO.
const categories = [
  { name: 'Niños', href: '/catalogo/ninos', active: false },
  { name: 'Niñas', href: '/catalogo/ninas', active: false },
  { name: 'Mascotas', href: '/catalogo/veterinarios', active: false },
];
---

<Layout title="Catálogo Completo de Diseños">
  <Header />
  <main class="catalog-page">
    <div class="container">
      <div class="catalog-header">
        <h1>Todos Nuestros Diseños</h1>
        <p class="subtitle">Encuentra el carnet perfecto para niños, niñas y mascotas.</p>
      </div>

      <!-- ✨ MENÚ DE CATEGORÍAS AÑADIDO AQUÍ ✨ -->
      <nav class="category-nav">
        <ul>
          {categories.map(cat => (
            <li>
              <a href={cat.href} class:list={{ active: cat.active }}>
                {cat.name}
              </a>
            </li>
          ))}
        </ul>
      </nav>

      <div class="product-grid">
        {products.map(product => (
          <ProductCard
            imgSrc={product.images[0] || '/images/placeholder.png'}
            title={product.name}
            category={product.category}
            price={product.price}
          />
        ))}
      </div>
    </div>
  </main>
  <Footer />
</Layout>

<style>
/* Estilos para la página y el nuevo menú de categorías */
.catalog-page { padding: 4rem 0; }
.container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
@media (min-width: 1536px) { .container { max-width: 1440px; } }
.catalog-header { text-align: center; margin-bottom: 2.5rem; }
.catalog-header h1 { font-size: 2.5rem; margin-bottom: .5rem; font-weight: 800; }
.catalog-header .subtitle { font-size: 1.1rem; color: #555; }

/* Estilos para el menú de categorías */
.category-nav { display: flex; justify-content: center; margin-bottom: 3rem; border-bottom: 1px solid #e0e0e0; }
.category-nav ul { display: flex; list-style: none; padding: 0; margin: 0; }
.category-nav a { display: block; padding: 0.75rem 1.5rem; margin: 0 0.5rem; color: #555; text-decoration: none; font-weight: 600; border-bottom: 3px solid transparent; transition: all 0.2s ease-in-out; }
.category-nav a:hover { color: #fc9700; }
.category-nav a.active { color: #fc9700; border-bottom-color: #f0ce0c; }

.product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
</style>